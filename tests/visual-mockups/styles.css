/* ============================================================
   TWELVE STONES — EPHOD QUEST
   Shared Design System CSS
   "He made the stars also." — Genesis 1:16
   ============================================================ */

:root {
  /* ── Palette ──────────────────────────────────────────── */
  --sand:      #E9D5B3;
  --clay:      #8B6F47;
  --olive:     #6B7A4F;
  --gold:      #FFD700;
  --gold-ant:  #C5A572;
  --sky-dawn:  #F4A460;
  --sky-noon:  #87CEEB;
  --sky-dusk:  #FF7043;
  --sky-night: #1a1a3e;
  --white:     #FFFDF5;
  --text-dark: #3B2A1A;

  /* ── Tribe gem colours ────────────────────────────────── */
  --gem-reuben:   #C41E3A;  /* Sardius / Carnelian */
  --gem-simeon:   #9ACD32;  /* Topaz */
  --gem-levi:     #B22222;  /* Carbuncle */
  --gem-judah:    #228B22;  /* Emerald */
  --gem-dan:      #1E90FF;  /* Sapphire */
  --gem-naphtali: #E8E8E8;  /* Diamond */
  --gem-gad:      #FF8C00;  /* Ligure / Jacinth */
  --gem-asher:    #4682B4;  /* Agate */
  --gem-issachar: #9370DB;  /* Amethyst */
  --gem-zebulun:  #20B2AA;  /* Beryl */
  --gem-joseph:   #1C1C1C;  /* Onyx */
  --gem-benjamin: #228B22;  /* Jasper */
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Georgia', 'Times New Roman', serif;
  background: var(--sky-night);
  color: var(--white);
  overflow: hidden;
  width: 1280px;
  height: 720px;
  position: relative;
}

/* ── Animated twinkling stars ───────────────────────────── */
.stars {
  position: absolute; inset: 0;
  background: 
    radial-gradient(1px 1px at 10% 15%, white, transparent),
    radial-gradient(1px 1px at 25% 8%,  white, transparent),
    radial-gradient(2px 2px at 40% 20%, white, transparent),
    radial-gradient(1px 1px at 55% 6%,  white, transparent),
    radial-gradient(1px 1px at 70% 12%, white, transparent),
    radial-gradient(2px 2px at 82% 18%, white, transparent),
    radial-gradient(1px 1px at 90% 5%,  white, transparent),
    radial-gradient(1px 1px at 15% 30%, rgba(255,255,255,0.7), transparent),
    radial-gradient(1px 1px at 35% 25%, rgba(255,255,255,0.6), transparent),
    radial-gradient(1px 1px at 60% 28%, rgba(255,255,255,0.8), transparent),
    radial-gradient(1px 1px at 78% 22%, rgba(255,255,255,0.5), transparent),
    radial-gradient(2px 2px at 92% 33%, rgba(255,255,255,0.9), transparent);
  animation: twinkle 3s ease-in-out infinite alternate;
  pointer-events: none; z-index: 1;
}
@keyframes twinkle {
  from { opacity: 0.6; }
  to   { opacity: 1.0; }
}

/* ── World skybox gradients ─────────────────────────────── */
.sky-dawn  { background: linear-gradient(180deg, #1a4a6e 0%, #f4a460 55%, #ffe4b5 100%); }
.sky-noon  { background: linear-gradient(180deg, #1a6e8a 0%, #5bc8f5 50%, #c8eafb 100%); }
.sky-dusk  { background: linear-gradient(180deg, #1a1a3e 0%, #6b3fa0 40%, #ff6b35 80%, #ffda6e 100%); }
.sky-night { background: linear-gradient(180deg, #060618 0%, #1a1a3e 50%, #2a1a4e 100%); }
.sky-forest{ background: linear-gradient(180deg, #1e4d2b 0%, #2a7a3b 50%, #8bc34a 100%); }
.sky-sea   { background: linear-gradient(180deg, #0a3d7a 0%, #1565c0 35%, #42a5f5 65%, #b3e5fc 100%); }
.sky-desert{ background: linear-gradient(180deg, #b35c00 0%, #ff8f00 50%, #ffe082 100%); }

/* ── Ground layers ──────────────────────────────────────── */
.ground {
  position: absolute; bottom: 0; left: 0; right: 0;
  border-radius: 50% 50% 0 0 / 30% 30% 0 0;
}

/* ── UI Frame ────────────────────────────────────────────── */
.ui-frame {
  position: absolute; inset: 0;
  border: 3px solid transparent;
  background: linear-gradient(#0000, #0000) padding-box,
              linear-gradient(135deg, var(--gold), var(--gold-ant), var(--gold)) border-box;
  pointer-events: none; z-index: 50;
}

/* ── HUD top bar ─────────────────────────────────────────── */
.hud-bar {
  position: absolute; top: 12px; left: 16px; right: 16px;
  display: flex; justify-content: space-between; align-items: center;
  z-index: 40;
}
.hud-tribe-badge {
  background: rgba(0,0,0,0.55);
  border: 2px solid var(--gold);
  border-radius: 20px;
  padding: 6px 18px;
  font-size: 15px;
  font-weight: bold;
  color: var(--gold);
  text-shadow: 0 0 8px rgba(255,215,0,0.7);
}
.hud-gem-row {
  display: flex; gap: 8px; align-items: center;
}
.hud-gem {
  width: 22px; height: 22px;
  border-radius: 50%;
  border: 2px solid rgba(255,215,0,0.6);
  box-shadow: 0 0 8px currentColor;
}

/* ── Interaction hint ────────────────────────────────────── */
.interaction-hint {
  position: absolute; bottom: 120px; left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.65);
  border: 2px solid var(--gold);
  border-radius: 20px;
  padding: 8px 24px;
  font-size: 16px; color: var(--gold);
  animation: bob 1.5s ease-in-out infinite;
  z-index: 35;
}
@keyframes bob {
  0%,100% { transform: translateX(-50%) translateY(0); }
  50%     { transform: translateX(-50%) translateY(-6px); }
}

/* ── Dialogue panel ─────────────────────────────────────── */
.dialogue-panel {
  position: absolute; bottom: 16px; left: 16px; right: 16px;
  background: rgba(10,6,2,0.88);
  border: 2.5px solid var(--gold);
  border-radius: 14px;
  padding: 16px 20px;
  z-index: 40; min-height: 110px;
}
.dlg-portrait {
  position: absolute; top: -55px; left: 24px;
  width: 80px; height: 80px;
  border-radius: 50%;
  border: 3px solid var(--gold);
  background: var(--clay);
  overflow: hidden;
  box-shadow: 0 0 16px rgba(255,215,0,0.5);
}
.dlg-name {
  font-size: 16px; font-weight: bold; color: var(--gold);
  margin-bottom: 6px; text-shadow: 0 0 6px rgba(255,215,0,0.5);
}
.dlg-text {
  font-size: 15px; color: #F5E6C8;
  line-height: 1.55; letter-spacing: 0.02em;
}
.dlg-continue {
  position: absolute; bottom: 12px; right: 16px;
  font-size: 13px; color: var(--gold-ant);
  animation: pulse-opac 1s ease-in-out infinite alternate;
}
@keyframes pulse-opac {
  from { opacity: 0.5; } to { opacity: 1.0; }
}

/* ── Touch D-pad ─────────────────────────────────────────── */
.dpad {
  position: absolute; bottom: 28px; left: 28px;
  width: 110px; height: 110px;
  z-index: 40;
}
.dpad-ring {
  width: 110px; height: 110px;
  background: rgba(0,0,0,0.55);
  border: 2px solid rgba(255,215,0,0.4);
  border-radius: 50%;
  position: relative;
}
.dpad-thumb {
  width: 46px; height: 46px;
  background: rgba(255,215,0,0.25);
  border: 2px solid var(--gold-ant);
  border-radius: 50%;
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  box-shadow: 0 0 12px rgba(255,215,0,0.3);
}

/* ── Action button ───────────────────────────────────────── */
.action-btn {
  position: absolute; bottom: 44px; right: 36px;
  width: 58px; height: 58px;
  background: rgba(0,0,0,0.55);
  border: 3px solid var(--gold);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px;
  box-shadow: 0 0 18px rgba(255,215,0,0.4);
  z-index: 40;
}

/* ── Minimap ─────────────────────────────────────────────── */
.minimap {
  position: absolute; top: 60px; right: 18px;
  width: 90px; height: 90px;
  background: rgba(0,0,0,0.60);
  border: 2px solid var(--gold-ant);
  border-radius: 8px;
  overflow: hidden; z-index: 35;
}
.minimap-player {
  position: absolute; top: 44px; left: 44px;
  width: 6px; height: 6px;
  background: var(--gold);
  border-radius: 50%;
  box-shadow: 0 0 6px var(--gold);
}

/* ── Gem/stone pop ───────────────────────────────────────── */
.gem-pop {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  font-size: 80px;
  animation: gem-pulse 2s ease-in-out infinite;
  z-index: 45;
  filter: drop-shadow(0 0 24px currentColor);
}
@keyframes gem-pulse {
  0%,100% { transform: translate(-50%,-50%) scale(1.0); }
  50%     { transform: translate(-50%,-50%) scale(1.12) rotate(8deg); }
}

/* ── World title overlay ─────────────────────────────────── */
.world-title {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  text-align: center; z-index: 45;
}
.world-title h1 {
  font-size: 52px;
  color: var(--gold);
  text-shadow: 0 0 30px rgba(255,215,0,0.8), 0 4px 8px rgba(0,0,0,0.8);
  letter-spacing: 0.08em;
}
.world-title h2 {
  font-size: 22px; color: var(--sand);
  text-shadow: 0 2px 6px rgba(0,0,0,0.8);
  margin-top: 8px;
}
.world-title .verse-tag {
  font-size: 14px; color: var(--gold-ant);
  font-style: italic; margin-top: 12px;
  text-shadow: 0 1px 3px rgba(0,0,0,0.8);
}

/* ── Terrain element shapes ────────────────────────────────  */
.hill {
  position: absolute; border-radius: 50% 50% 0 0;
}
.rock {
  position: absolute;
  border-radius: 40% 60% 55% 45% / 50% 45% 55% 50%;
}
.tree-trunk {
  position: absolute;
  border-radius: 4px;
  background: var(--clay);
}
.tree-canopy {
  position: absolute;
  border-radius: 50%;
}
.water {
  position: absolute;
  background: linear-gradient(0deg, #1565c0 0%, #42a5f5 100%);
  opacity: 0.75;
  animation: water-shimmer 3s ease-in-out infinite;
}
@keyframes water-shimmer {
  0%,100% { opacity: 0.7; }
  50%     { opacity: 0.9; }
}
.path {
  position: absolute;
  background: linear-gradient(var(--sand), var(--clay));
  border-radius: 4px;
  opacity: 0.65;
}

/* ── Character sprites ──────────────────────────────────── */
.char-sprite {
  position: absolute;
  display: flex; flex-direction: column; align-items: center;
}
.char-head {
  border-radius: 50%;
  border: 2.5px solid rgba(0,0,0,0.3);
  position: relative; overflow: hidden;
}
.char-head::after {
  content: '';
  position: absolute; top: 15%; left: 20%; width: 25%; height: 25%;
  background: rgba(255,255,255,0.4);
  border-radius: 50%;
}
.char-body {
  border-radius: 8px 8px 0 0;
  border: 2px solid rgba(0,0,0,0.25);
}
.char-eyes {
  position: absolute; top: 38%; left: 50%;
  transform: translateX(-50%);
  display: flex; gap: 6px;
}
.char-eye {
  width: 7px; height: 9px;
  background: #1a0a00;
  border-radius: 50%;
  position: relative;
}
.char-eye::after {
  content: '';
  width: 3px; height: 3px;
  background: white; border-radius: 50%;
  position: absolute; top: 1px; right: 1px;
}

/* ── Ephod breastplate ──────────────────────────────────── */
.ephod-frame {
  position: absolute;
  background: linear-gradient(135deg, #8B6914, #FFD700, #8B6914);
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0 0 20px rgba(255,215,0,0.6), inset 0 0 8px rgba(255,255,255,0.2);
}
.ephod-gems {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 3px; padding: 4px;
  background: rgba(30,10,0,0.7);
  border-radius: 4px;
}
.ephod-gem {
  width: 22px; height: 22px;
  border-radius: 4px;
  border: 1.5px solid rgba(255,255,255,0.4);
  box-shadow: 0 0 6px currentColor, inset 0 0 4px rgba(255,255,255,0.3);
  position: relative;
}
.ephod-gem::after {
  content: '';
  position: absolute; top: 3px; left: 3px;
  width: 5px; height: 5px;
  background: rgba(255,255,255,0.5);
  border-radius: 50%;
}

/* ── Water shimmer overlay ──────────────────────────────── */
.shimmer-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.04) 50%, transparent 70%);
  animation: shimmer 4s linear infinite;
  pointer-events: none;
}
@keyframes shimmer {
  from { background-position: -200% 0; }
  to   { background-position: 200% 0; }
}

/* ── Quest objective box ────────────────────────────────── */
.quest-box {
  position: absolute; top: 60px; left: 18px;
  background: rgba(0,0,0,0.60);
  border: 1.5px solid var(--gold-ant);
  border-radius: 8px;
  padding: 8px 14px;
  font-size: 13px; color: var(--sand);
  z-index: 35; max-width: 180px;
  line-height: 1.5;
}
.quest-box strong { color: var(--gold); font-size: 14px; }

/* ── Verse scroll popup ─────────────────────────────────── */
.verse-scroll {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  background: linear-gradient(180deg, #FFF8E7, #F5E6C8);
  border: 3px solid var(--gold);
  border-radius: 16px;
  padding: 28px 32px;
  min-width: 380px;
  text-align: center; z-index: 50;
  box-shadow: 0 0 40px rgba(255,215,0,0.5), 0 8px 32px rgba(0,0,0,0.8);
}
.verse-scroll .ref {
  font-size: 14px; color: var(--clay);
  text-transform: uppercase; letter-spacing: 0.1em;
  margin-bottom: 10px;
}
.verse-scroll .text {
  font-size: 20px; color: var(--text-dark);
  font-style: italic; line-height: 1.6;
}

/* ── Heart badge ─────────────────────────────────────────── */
.heart-badge {
  font-size: 32px;
  filter: drop-shadow(0 0 12px rgba(220,20,60,0.8));
  animation: heart-beat 1s ease-in-out infinite;
}
@keyframes heart-beat {
  0%,100% { transform: scale(1); }
  25%     { transform: scale(1.15); }
  40%     { transform: scale(0.95); }
}

/* ── Particle: golden motes ─────────────────────────────── */
.mote {
  position: absolute;
  width: 4px; height: 4px;
  background: var(--gold);
  border-radius: 50%;
  opacity: 0.7;
  animation: float-up var(--dur, 4s) ease-in-out infinite;
  box-shadow: 0 0 6px var(--gold);
}
@keyframes float-up {
  0%   { transform: translateY(0) translateX(0) scale(1); opacity: 0.7; }
  100% { transform: translateY(-120px) translateX(var(--dx,10px)) scale(0); opacity: 0; }
}

/* ── Nature fact card ─────────────────────────────────────── */
.nature-card {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  background: rgba(6,20,8,0.92);
  border: 2.5px solid #56ab2f;
  border-radius: 14px;
  padding: 22px 28px;
  text-align: center; z-index: 50;
  min-width: 340px;
  box-shadow: 0 0 30px rgba(86,171,47,0.4);
}
.nature-card .animal { font-size: 64px; margin-bottom: 8px; }
.nature-card .fact { font-size: 15px; color: #c8f7a0; line-height: 1.6; }
.nature-card .nature-verse { font-size: 13px; color: var(--gold-ant); margin-top: 10px; font-style: italic; }
