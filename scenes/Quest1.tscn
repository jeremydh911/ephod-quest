[gd_scene load_steps=2 format=3 uid="uid://quest1"]
[ext_resource type="Script" path="res://scripts/Quest1.gd" id="1"]

; ── Quest 1: Tribe of Reuben ── "Trust in the LORD" Proverbs 3:5-6 ──────────
[node name="Quest1" type="Node2D"]
script = ExtResource("1")

; Sky gradient background ─────────────────────────────────────────────────────
[node name="Sky" type="ColorRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0.62, 0.78, 0.92, 1)

; Cave mouth silhouette ───────────────────────────────────────────────────────
[node name="CaveBG" type="ColorRect" parent="."]
offset_left = 300.0
offset_top = 200.0
offset_right = 980.0
offset_bottom = 720.0
color = Color(0.22, 0.18, 0.14, 1)

; Cave entrance arch ──────────────────────────────────────────────────────────
[node name="CaveArch" type="ColorRect" parent="."]
offset_left = 480.0
offset_top = 240.0
offset_right = 800.0
offset_bottom = 720.0
color = Color(0.08, 0.06, 0.04, 1)

; Ground ──────────────────────────────────────────────────────────────────────
[node name="Ground" type="ColorRect" parent="."]
anchors_preset = 12
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -80.0
color = Color(0.68, 0.54, 0.35, 1)

; Tribe colour accent bar ─────────────────────────────────────────────────────
[node name="TribeBar" type="ColorRect" parent="."]
offset_left = 0.0
offset_top = 0.0
offset_right = 8.0
offset_bottom = 720.0
color = Color(0.75, 0.22, 0.16, 1)

; Ladder structure ────────────────────────────────────────────────────────────
[node name="Ladder" type="Node2D" parent="."]
position = Vector2(640, 100)

[node name="LadderPost1" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 0.0
offset_right = -8.0
offset_bottom = 500.0
color = Color(0.55, 0.38, 0.2, 1)

[node name="LadderPost2" type="ColorRect" parent="Ladder"]
offset_left = 8.0
offset_top = 0.0
offset_right = 18.0
offset_bottom = 500.0
color = Color(0.55, 0.38, 0.2, 1)

[node name="Rung1" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 60.0
offset_right = 18.0
offset_bottom = 68.0
color = Color(0.45, 0.3, 0.15, 1)

[node name="Rung2" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 130.0
offset_right = 18.0
offset_bottom = 138.0
color = Color(0.45, 0.3, 0.15, 1)

[node name="Rung3" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 200.0
offset_right = 18.0
offset_bottom = 208.0
color = Color(0.45, 0.3, 0.15, 1)

[node name="Rung4" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 270.0
offset_right = 18.0
offset_bottom = 278.0
color = Color(0.45, 0.3, 0.15, 1)

[node name="Rung5" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 340.0
offset_right = 18.0
offset_bottom = 348.0
color = Color(0.45, 0.3, 0.15, 1)

[node name="Rung6" type="ColorRect" parent="Ladder"]
offset_left = -18.0
offset_top = 410.0
offset_right = 18.0
offset_bottom = 418.0
color = Color(0.45, 0.3, 0.15, 1)

; Player placeholder (ruby-tinted square) ─────────────────────────────────────
[node name="PlayerSprite" type="ColorRect" parent="."]
position = Vector2(600, 580)
offset_right = 40.0
offset_bottom = 60.0
color = Color(0.75, 0.22, 0.16, 0.9)

; Butterflies for illustration ─────────────────────────────────────────────────
[node name="Butterfly1" type="Polygon2D" parent="."]
position = Vector2(400, 300)
polygon = PackedVector2Array(-10, -10, 10, -10, 15, 0, 10, 10, -10, 10, -15, 0)
color = Color(0.8, 0.4, 0.8, 1)

[node name="Butterfly2" type="Polygon2D" parent="."]
position = Vector2(500, 250)
polygon = PackedVector2Array(-10, -10, 10, -10, 15, 0, 10, 10, -10, 10, -15, 0)
color = Color(0.4, 0.8, 0.4, 1)

[node name="Butterfly3" type="Polygon2D" parent="."]
position = Vector2(700, 350)
polygon = PackedVector2Array(-10, -10, 10, -10, 15, 0, 10, 10, -10, 10, -15, 0)
color = Color(0.8, 0.8, 0.4, 1)

; Mini-game UI container ───────────────────────────────────────────────────────
[node name="MiniGameContainer" type="VBoxContainer" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -180.0
offset_top = -120.0
offset_right = 180.0
offset_bottom = 120.0
visible = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "butterfly_flutter"

[node name="AnimationLibrary" type="AnimationLibrary" parent="AnimationPlayer"]

[node name="butterfly_flutter" type="Animation" parent="AnimationLibrary"]
length = 3.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Butterfly1:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(400, 300), Vector2(420, 280)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Butterfly2:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.5, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(500, 250), Vector2(480, 270)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Butterfly3:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1, 2.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(700, 350), Vector2(720, 330)]
}
